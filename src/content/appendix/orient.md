+++
title = "Filecoin Parameters"
author = ["Chhi'med Kunzang"]
draft = false
+++

## All Parameters {#all-parameters}

| Parameter                     | Type    | Value                 | Description                                                                                                                                                                                    |
|-------------------------------|---------|-----------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ACTOR-METHOD                  | BYTES   | 8                     | The size required to represent an actor method.                                                                                                                                                |
| ACTORS-MESSAGES-FRACTION      |         | 0.30000004            |                                                                                                                                                                                                |
| ACTORS-MESSAGES-PER-BLOCK     |         | 32.661842             |                                                                                                                                                                                                |
| ADDRESS-SIZE                  | BYTES   | 35                    | The size of an address.                                                                                                                                                                        |
| ALL-POST-MESSAGES-PER-YEAR    |         | 122557560.0           |                                                                                                                                                                                                |
| ALL-SEAL-MESSAGES-PER-YEAR    |         | 335544320             |                                                                                                                                                                                                |
| ALL-SEAL-SIZE-PER-YEAR        |         | 335544320             |                                                                                                                                                                                                |
| AVG-POSTS-MESSAGES-PER-BLOCK  |         | 11.650845             |                                                                                                                                                                                                |
| AVG-PROOFS-MESSAGES-PER-BLOCK |         | 43.549118             |                                                                                                                                                                                                |
| AVG-SEALS-MESSAGES-PER-BLOCK  |         | 31.898273             |                                                                                                                                                                                                |
| AVG-TICKETS                   |         | 1                     |                                                                                                                                                                                                |
| BLOCK-FRAMING-SIZE            | BYTES   | 14709.481             | The total amount of block framing.                                                                                                                                                             |
| BLOCK-HEADER-FIXED-SIZE       |         | 420                   |                                                                                                                                                                                                |
| BLOCK-HEADER-SIZE             |         | 1427                  |                                                                                                                                                                                                |
| BLOCK-HEADER-VARIABLE-SIZE    |         | 1007                  |                                                                                                                                                                                                |
| BLOCK-HEIGHT-SIZE             |         | 8                     |                                                                                                                                                                                                |
| BLOCK-SIG-SIZE                |         | 96                    |                                                                                                                                                                                                |
| BLOCK-SIZE                    |         | 37265.1               |                                                                                                                                                                                                |
| BLOCK-SIZE-KIB                |         | 36.3917               |                                                                                                                                                                                                |
| BLOCK-TIME                    |         | 15                    |                                                                                                                                                                                                |
| BLOCKS-IN-A-YEAR              |         | 10519200.0            |                                                                                                                                                                                                |
| BLOCKS-IN-TEN-YEARS           |         | 105192000.0           |                                                                                                                                                                                                |
| BLS-AGG-SIZE                  |         | 96                    |                                                                                                                                                                                                |
| CHAIN-SIZE-YEAR               |         | 391999060000.0        |                                                                                                                                                                                                |
| CHAIN-SIZE-YEAR-GIB           |         | 365.07758             |                                                                                                                                                                                                |
| CID-SIZE                      | BYTES   | 35                    | The size of a CID.                                                                                                                                                                             |
| COMM-C-CONSTRAINTS            |         | 218221140.0           |                                                                                                                                                                                                |
| COMM-C-OPENINGS               |         | 15                    |                                                                                                                                                                                                |
| COMM-C-TIME                   |         | 12924.399             |                                                                                                                                                                                                |
| COMM-D-CONSTRAINTS            |         | 11011791.0            |                                                                                                                                                                                                |
| COMM-D-OPENINGS               |         | 1                     |                                                                                                                                                                                                |
| COMM-D-TIME                   |         | 652.18604             |                                                                                                                                                                                                |
| COMM-P-SIZE                   |         | 35                    |                                                                                                                                                                                                |
| COMM-R-CONSTRAINTS            |         | 66070744.0            |                                                                                                                                                                                                |
| COMM-R-OPENINGS               |         | 6                     |                                                                                                                                                                                                |
| COMM-R-TIME                   |         | 3913.1165             |                                                                                                                                                                                                |
| COMMIT-SIZE                   |         | 35                    |                                                                                                                                                                                                |
| COMMIT-TIME                   |         | 14042.3955            |                                                                                                                                                                                                |
| CORES                         |         | 16                    |                                                                                                                                                                                                |
| DEGREE                        |         | 14                    |                                                                                                                                                                                                |
| DEGREE-BASE                   |         | 6                     |                                                                                                                                                                                                |
| DEGREE-EXPANDER               |         | 8                     |                                                                                                                                                                                                |
| DELTA                         |         | 0.02425               |                                                                                                                                                                                                |
| DRG-D                         |         | 1/4                   |                                                                                                                                                                                                |
| DRG-E                         |         | 0.8                   |                                                                                                                                                                                                |
| EIX                           |         | 1152921504606846976   |                                                                                                                                                                                                |
| ELECTION-PROOF-SIZE           |         | 64                    |                                                                                                                                                                                                |
| ENCODING-AMAX                 |         | 2                     |                                                                                                                                                                                                |
| ENCODING-TIME                 |         | 6605.1006             |                                                                                                                                                                                                |
| ENCODING-TIME-MINS            |         | 110.08501             |                                                                                                                                                                                                |
| EPSILON                       |         | 0.0505                |                                                                                                                                                                                                |
| EXIT-CODE                     | BYTES   | 4                     | The size of an exit code.                                                                                                                                                                      |
| EXPECTED-WINNING-MINERS       |         | 5                     |                                                                                                                                                                                                |
| FROM-ADDRESS                  |         | 35                    |                                                                                                                                                                                                |
| GAS-LIMIT                     |         | 8                     |                                                                                                                                                                                                |
| GAS-PRICE                     | BYTES   | 8                     | The size required to represent the gas limit.                                                                                                                                                  |
| GAS-USED                      | BYTES   | 8                     | The size required to represent the amount of gas used by a message.                                                                                                                            |
| GIB                           |         | 1073741824            |                                                                                                                                                                                                |
| INCLUSION-CIRCUIT-TIME        |         | 2.3098202             |                                                                                                                                                                                                |
| INCLUSION-CONSTRAINTS         |         | 39000.0               |                                                                                                                                                                                                |
| KDF-CONTENT                   |         | 15                    |                                                                                                                                                                                                |
| KDF-HASH-SIZE                 |         | 32                    |                                                                                                                                                                                                |
| KDF-HASH-TIME                 |         | 4.5608e-08            |                                                                                                                                                                                                |
| KIB                           | BYTES   | 1024                  | The number of bytes in one KiB.                                                                                                                                                                |
| LAMBDA                        |         | 10                    |                                                                                                                                                                                                |
| LAYERS                        |         | 9.634086              |                                                                                                                                                                                                |
| LAYERS-A                      |         | 6.8276772             |                                                                                                                                                                                                |
| LAYERS-B                      |         | 9.634086              |                                                                                                                                                                                                |
| LEAF-CIRCUIT-TIME             |         | 0.7417668             |                                                                                                                                                                                                |
| LEAF-CONSTRAINTS              |         | 12524.312             |                                                                                                                                                                                                |
| LEAF-HASH-CIRCUIT-TIME        |         | 0.076994              |                                                                                                                                                                                                |
| LEAF-HASH-CONSTRAINTS         |         | 1300                  |                                                                                                                                                                                                |
| LEAF-HASH-TIME                |         | 4.5608e-08            |                                                                                                                                                                                                |
| LEAF-TIME                     |         | 4.3939139e-07         |                                                                                                                                                                                                |
| MALICIOUS-ENCODING            |         | 3302.5503             |                                                                                                                                                                                                |
| MAX-TICKETS                   |         | 19.07985              |                                                                                                                                                                                                |
| MERKLE-HASH-CONSTRAINTS       |         | 1300                  |                                                                                                                                                                                                |
| MERKLE-HASH-TIME              |         | 1.3078e-05            |                                                                                                                                                                                                |
| MERKLE-HASH-TIME-CIRCUIT      |         | 0.076994              |                                                                                                                                                                                                |
| MESSAGE-NONCE                 | BYTES   | 4                     | The size of a message's nonce.                                                                                                                                                                 |
| MESSAGE-RECEIPT               | BYTES   | 16                    | The size of one message receipt.                                                                                                                                                               |
| MESSAGE-RECEIPTS-CID          | BYTES   | 35                    | The size of one message receipt's CID.                                                                                                                                                         |
| MESSAGE-SIZE                  | BYTES   | 106                   | The size of a single message.                                                                                                                                                                  |
| MESSAGES                      |         | 108.872795            |                                                                                                                                                                                                |
| MESSAGES-ROOT-CID             | BYTES   | 35                    | Size of the CID of the root merkle tree of the messages.                                                                                                                                       |
| MESSAGES-SIZE                 | BYTES   | 11540.517             | The total size of the messages in a block.                                                                                                                                                     |
| MIB                           | BYTES   | 1048576               | The number of bytes in one EiX.                                                                                                                                                                |
| MIN-TICKETS                   |         | 0                     |                                                                                                                                                                                                |
| MINER-ADDRESS-SIZE            |         | 35                    |                                                                                                                                                                                                |
| MINERS                        |         | 1000                  |                                                                                                                                                                                                |
| NODE-SIZE                     |         | 32                    |                                                                                                                                                                                                |
| NODES                         |         | 1073741824            |                                                                                                                                                                                                |
| OFFLINE-CHALLENGES            |         | 282.3536              |                                                                                                                                                                                                |
| ONE-BLOCK-IN-TEN-YEARS        |         | 9.506427e-09          |                                                                                                                                                                                                |
| ONLINE-CHALLENGES             |         | 136.53467             |                                                                                                                                                                                                |
| OPENING-PER-CHALLENGE         |         | 15                    |                                                                                                                                                                                                |
| OPENINGS                      |         | 4235.304              |                                                                                                                                                                                                |
| P-SIZE                        |         | 35.0                  |                                                                                                                                                                                                |
| PARALLEL-SEAL-TIME            |         | 8575.856              |                                                                                                                                                                                                |
| PARENT-WEIGHT-SIZE            |         | 8                     |                                                                                                                                                                                                |
| PARENTS                       |         | 5                     |                                                                                                                                                                                                |
| PARENTS-CIDS                  |         | 175                   |                                                                                                                                                                                                |
| PIB                           |         | 1125899906842624      |                                                                                                                                                                                                |
| POLLING-TIME                  |         | 825.6376              |                                                                                                                                                                                                |
| POREP-SNARK-CONSTRAINTS       |         | 295303680.0           |                                                                                                                                                                                                |
| POREP-SNARK-PARTITIONS        |         | 2.9530368             |                                                                                                                                                                                                |
| POREP-SNARK-PROOF-SIZE        |         | 566.98303             |                                                                                                                                                                                                |
| POREP-SNARK-TIME              |         | 17489.703             |                                                                                                                                                                                                |
| POST-CHALLENGE-BLOCKS         | BLOCKS  | 480                   | The time offset before which the actual work of generating the PoSt cannot be started. This is some delta before the end of the Proving Period, and as such less than a single Proving Period. |
| POST-CHALLENGE-HOURS          | HOURS   | 2                     | PoSt challenge time (see POST\_CHALLENGE\_BLOCKS).                                                                                                                                             |
| POST-CHALLENGE-TIME           | SECONDS | 7200                  | PoSt challenge time (see POST\_CHALLENGE\_BLOCKS).                                                                                                                                             |
| POST-CHALLENGES               |         | 136.53467             |                                                                                                                                                                                                |
| POST-PROOF-SIZE               |         | 192                   |                                                                                                                                                                                                |
| POST-PROVING-PERIOD           | BLOCKS  | 5760                  | The time interval in which a PoSt has to be submitted                                                                                                                                          |
| POST-SIZE-PER-BLOCK           |         | 2236.9622             |                                                                                                                                                                                                |
| POST-SNARK-CIRCUIT            |         | 5324852.0             |                                                                                                                                                                                                |
| POST-SNARK-PROOF-PARTITIONS   |         | 1                     |                                                                                                                                                                                                |
| POST-SNARK-PROOF-SIZE         |         | 192                   |                                                                                                                                                                                                |
| POSTS-PER-SECTOR-PER-YEAR     |         | 365.25                |                                                                                                                                                                                                |
| PROOF-MESSAGES-FRACTION       |         | 0.4                   |                                                                                                                                                                                                |
| PROOFGEN-TIME                 |         | 17489.703             |                                                                                                                                                                                                |
| PROOFS-SIZE-PER-BLOCK         |         | 22555.621             |                                                                                                                                                                                                |
| PROOFS-SIZE-PER-BLOCK-KIB     |         | 22.026974             |                                                                                                                                                                                                |
| PROVING-PERIOD-HOURS          |         | 24                    |                                                                                                                                                                                                |
| PROVING-PERIOD-SECONDS        |         | 86400                 |                                                                                                                                                                                                |
| RECEIPTS                      |         | 108.872795            |                                                                                                                                                                                                |
| RECEIPTS-SIZE                 |         | 1741.9647             | The total size of all message receipts, in bytes.                                                                                                                                              |
| REPLICA-COMMIT-TIME           |         | 42598.98              |                                                                                                                                                                                                |
| RESEAL                        |         | 0                     |                                                                                                                                                                                                |
| RETURN                        | BYTES   | 4                     | The size of a message's return value.                                                                                                                                                          |
| RSA-ELEMENT                   | BYTES   | 256                   | The size of an RSA element.                                                                                                                                                                    |
| SEAL-COMMITMENTS-SIZE         |         | 70                    |                                                                                                                                                                                                |
| SEAL-PROOF-SIZE               |         | 636.98303             |                                                                                                                                                                                                |
| SEAL-SIZE-PER-BLOCK           |         | 20318.658             |                                                                                                                                                                                                |
| SEAL-TIME                     |         | 66693.78              |                                                                                                                                                                                                |
| SEALS-PER-SECTOR-PER-YEAR     |         | 1                     |                                                                                                                                                                                                |
| SECTOR-SIZE                   |         | 34359738368           |                                                                                                                                                                                                |
| SECTOR-SIZE-GIB               |         | 32                    |                                                                                                                                                                                                |
| SECTORS-COUNT                 |         | 335544320             |                                                                                                                                                                                                |
| SNARK-MAX-CONSTRAINTS         |         | 100000000             |                                                                                                                                                                                                |
| SNARK-SINGLE-PROOF-SIZE       |         | 192                   |                                                                                                                                                                                                |
| SPACEGAP                      |         | 0.1                   |                                                                                                                                                                                                |
| STATE-ROOT-CID                |         | 35                    |                                                                                                                                                                                                |
| STORAGE-NETWORK-CAPACITY      |         | 1.152921504606847e+19 |                                                                                                                                                                                                |
| TIB                           |         | 1099511627776         |                                                                                                                                                                                                |
| TICKET-SIZE                   |         | 832                   |                                                                                                                                                                                                |
| TICKETS                       |         | 1                     |                                                                                                                                                                                                |
| TICKETS-SIZE                  |         | 832                   |                                                                                                                                                                                                |
| TIMESTAMP-SIZE                |         | 8                     |                                                                                                                                                                                                |
| TO-ADDRESS                    | BYTES   | 35                    | The size of a message's 'from address'.                                                                                                                                                        |
| TREE-DEPTH                    |         | 30.0                  |                                                                                                                                                                                                |
| TX-MESSAGES-FRACTION          |         | 0.3                   |                                                                                                                                                                                                |
| TX-MESSAGES-PER-BLOCK         |         | 32.66184              |                                                                                                                                                                                                |
| U64                           |         | 8                     | The size of a U64, in bytes.                                                                                                                                                                   |
| VALUE                         | BYTES   | 8                     | The size of a 'value' element.                                                                                                                                                                 |
| VARINT                        | BYTES   | 4                     | The size of a VarInt.                                                                                                                                                                          |
| VDF-OUTPUT-SIZE               |         | 0                     |                                                                                                                                                                                                |
| VDF-PROOF-SIZE                |         | 768                   |                                                                                                                                                                                                |
| YEAR-IN-SECONDS               | SECONDS | 31557600.0            | The number of seconds in one year.                                                                                                                                                             |


## Effect of Space Gap and Sector Size on Block Size. {#effect-of-space-gap-and-sector-size-on-block-size-dot}

| LAMBDA | SPACEGAP | BLOCK-SIZE-KIB | SECTOR-SIZE-GIB |
|--------|----------|----------------|-----------------|
| 10     | 0.2      | 2.0183308      | 1024            |
| 10     | 0.1      | 2.1250708      | 1024            |
| 10     | 0.2      | 2.2424922      | 1024            |
| 10     | 0.06     | 2.2729497      | 1024            |
| 10     | 0.1      | 2.5627122      | 1024            |
| 10     | 0.03     | 2.6715527      | 1024            |
| 80     | 0.2      | 2.7350836      | 1024            |
| 10     | 0.2      | 2.847705       | 256             |
| 10     | 0.06     | 3.0063488      | 1024            |
| 10     | 0.1      | 3.2539802      | 256             |
| 80     | 0.1      | 3.589003       | 1024            |
| 10     | 0.06     | 3.8169022      | 256             |
| 10     | 0.2      | 3.9404943      | 128             |
| 10     | 0.03     | 4.2021575      | 1024            |
| 80     | 0.2      | 4.3927507      | 1024            |
| 10     | 0.2      | 4.730614       | 256             |
| 10     | 0.1      | 4.7323604      | 128             |
| 80     | 0.06     | 4.7720346      | 1024            |
| 10     | 0.03     | 5.3342724      | 256             |
| 10     | 0.2      | 5.501524       | 1024            |
| 80     | 0.2      | 5.57777        | 256             |
| 10     | 0.06     | 5.829611       | 128             |
| 10     | 0.1      | 5.94944        | 256             |
| 80     | 0.1      | 6.9545097      | 1024            |
| 10     | 0.1      | 7.102623       | 1024            |
| 10     | 0.06     | 7.638206       | 256             |
| 80     | 0.03     | 7.960858       | 1024            |
| 10     | 0.2      | 8.008982       | 128             |
| 10     | 0.03     | 8.787309       | 128             |
| 80     | 0.1      | 8.827972       | 256             |
| 80     | 0.2      | 9.263679       | 128             |
| 10     | 0.06     | 9.3208065      | 1024            |
| 10     | 0.1      | 10.384581      | 128             |
| 10     | 0.2      | 10.399412      | 32              |
| 80     | 0.06     | 10.503603      | 1024            |
| 10     | 0.03     | 12.190317      | 256             |
| 80     | 0.2      | 12.920809      | 256             |
| 80     | 0.06     | 13.331349      | 256             |
| 10     | 0.1      | 13.4014015     | 32              |
| 10     | 0.06     | 13.676332      | 128             |
| 10     | 0.03     | 15.2998495     | 1024            |
| 80     | 0.1      | 15.598608      | 128             |
| 80     | 0.2      | 16.252815      | 1024            |
| 10     | 0.06     | 17.561655      | 32              |
| 10     | 0.2      | 17.942131      | 256             |
| 80     | 0.03     | 20.070072      | 1024            |
| 10     | 0.03     | 22.549423      | 128             |
| 80     | 0.1      | 22.671417      | 256             |
| 80     | 0.2      | 23.978535      | 128             |
| 10     | 0.1      | 24.036263      | 256             |
| 80     | 0.06     | 24.376612      | 128             |
| 80     | 0.03     | 25.470312      | 256             |
| 10     | 0.2      | 27.385735      | 32              |
| 10     | 0.03     | 28.776114      | 32              |
| 80     | 0.1      | 29.061607      | 1024            |
| 80     | 0.2      | 30.596579      | 32              |
| 10     | 0.06     | 32.48009       | 256             |
| 10     | 0.2      | 34.33397       | 128             |
| 80     | 0.06     | 36.181545      | 256             |
| 10     | 0.1      | 36.3917        | 32              |
| 80     | 0.1      | 42.983322      | 128             |
| 10     | 0.1      | 46.211964      | 128             |
| 80     | 0.06     | 46.80707       | 1024            |
| 80     | 0.03     | 48.038197      | 128             |
| 10     | 0.06     | 48.872463      | 32              |
| 80     | 0.1      | 54.612484      | 32              |
| 10     | 0.03     | 55.240646      | 256             |
| 80     | 0.2      | 58.89311       | 256             |
| 10     | 0.06     | 62.670723      | 128             |
| 80     | 0.06     | 69.31734       | 128             |
| 80     | 0.03     | 72.59843       | 256             |
| 10     | 0.03     | 82.51584       | 32              |
| 80     | 0.06     | 87.89453       | 32              |
| 80     | 0.2      | 87.977234      | 32              |
| 80     | 0.03     | 94.63942       | 1024            |
| 10     | 0.03     | 107.03619      | 128             |
| 80     | 0.1      | 107.64613      | 256             |
| 80     | 0.2      | 114.18173      | 128             |
| 10     | 0.2      | 131.21773      | 32              |
| 80     | 0.03     | 140.30208      | 128             |
| 80     | 0.1      | 160.02498      | 32              |
| 80     | 0.06     | 175.19678      | 256             |
| 10     | 0.1      | 176.24756      | 32              |
| 80     | 0.03     | 177.6102       | 32              |
| 80     | 0.1      | 209.20566      | 128             |
| 10     | 0.06     | 238.65137      | 32              |
| 80     | 0.06     | 259.8711       | 32              |
| 80     | 0.06     | 340.8757       | 128             |
| 80     | 0.03     | 357.2812       | 256             |
| 10     | 0.03     | 406.86823      | 32              |
| 80     | 0.2      | 434.17523      | 32              |
| 80     | 0.03     | 529.018        | 32              |
| 80     | 0.03     | 695.79944      | 128             |
| 80     | 0.1      | 794.4138       | 32              |
| 80     | 0.06     | 1293.6443      | 32              |
| 80     | 0.03     | 2639.3792      | 32              |


## Parameter Definitions {#parameter-definitions}

```text
Assumptions:
  CID [CRH]:
    declare(cid_size, bytes)
    describe(cid_size, "The size of a CID.", bytes)
    cid_size = 32 + 1 + 1 + 1

  SLE [VRF]:
    declare(vrf_proof_size) // TODO
    describe(vrf_proof_size, "The size of a VRF proof.", bytes)

Primitives:
  declare(varint, bytes)
  describe(varint, "The size of a VarInt.", bytes)
  varint = 4

  u64 = 8
  describe(u64, "The size of a U64, in bytes.")

  Dimensions:
    Size:
      kib = 1024
      describe (kib, "The number of bytes in one KiB.", bytes)

      mib = 1024 * kib
      describe (mib, "The number of bytes in one MiB.", bytes)

      gib = 1024 * mib
      describe (mib, "The number of bytes in one GiB.", bytes)

      tib = 1024 * gib
      describe (mib, "The number of bytes in one TiB.", bytes)

      pib = 1024 * tib
      describe (mib, "The number of bytes in one PiB.", bytes)

      eix = 1024 * pib
      describe (mib, "The number of bytes in one EiX.", bytes)
    Time:
      year_in_seconds = 365.25 * 24 * 60 * 60
      describe(year_in_seconds, "The number of seconds in one year.", seconds)

VDFRSA:
  declare(rsa_element, bytes)
  describe(rsa_element, "The size of an RSA element.", bytes)
  rsa_element = (2048/8)

Blockchain:
  declare(block_time, seconds)
  Address:
    address_size = cid_size
    describe(address_size, "The size of an address.", bytes)

  Block:
    block_framing_size = block_header_size + messages_size + receipts_size
    describe(block_framing_size, "The total amount of block framing.", bytes)

    Messages:
      // declare(messages, integer) // TODO
      messages_size = messages * message_size
      describe(messages_size, "The total size of the messages in a block.", bytes)

      messages_root_cid = cid_size
      describe(messages_root_cid, "Size of the CID of the root merkle tree of the messages.", bytes)

      Message:
        message_size = to_address + from_address + message_nonce + value + gas_price + gas_limit + actor_method
        describe(message_size, "The size of a single message.", bytes)

        to_address = address_size
        describe(to_address, "The size of a message's 'to address'.", bytes)

        from_address = address_size
        describe(to_address, "The size of a message's 'from address'.", bytes)

        Nonce:
          declare(message_nonce, bytes) // TODO
          describe(message_nonce, "The size of a message's nonce.", bytes)
          message_nonce = varint

        Value:
          declare(value, bytes)
          describe(value, "The size of a 'value' element.", bytes)
          value = u64

        Gas:
          declare(gas_price, bytes)
          describe(gas_price, "The size required to represent the gas price.", bytes)
          gas_price = u64

          declare(gas_limit, bytes)
          describe(gas_price, "The size required to represent the gas limit.", bytes)
          gas_limit = u64

        ActorMethod:
          declare(actor_method, bytes) // TODO: actor_method what is it? how big is it?
          actor_method = u64
          describe(actor_method, "The size required to represent an actor method.", bytes)

    Receipts:
      receipts = messages // TODO check
      // declare(receipts, integer) // TODO
      receipts_size = receipts * message_receipt
      describe(receipts_size, "The total size of all message receipts, in bytes.")
      message_receipts_cid = cid_size
      describe(message_receipts_cid, "The size of one message receipt's CID.", bytes)

      Receipt:
        message_receipt = exit_code + return + gas_used
        describe(message_receipt, "The size of one message receipt.", bytes)

        // declare(exit_code, bytes) // TODO
        exit_code = varint
        describe(exit_code, "The size of an exit code.", bytes)
        // declare(return, bytes) // TODO
        return = varint
        describe(return, "The size of a message's return value.", bytes)

        // declare(gas_used, bytes) // TODO
        gas_used = u64
        describe(gas_used, "The size required to represent the amount of gas used by a message.", bytes)

    BlockHeader (EC):
      declare(block_header_size, bytes)
      assume(block_header_size > 0)
      assume(block_header_size < 1024*1024*10) // assume max is 10MB

      block_header_size = block_header_fixed_size + block_header_variable_size
      block_header_fixed_size = miner_address_size + election_proof_size + parent_weight_size + block_height_size + state_root_cid + messages_root_cid + bls_agg_size + message_receipts_cid + timestamp_size + block_sig_size
      block_header_variable_size = tickets_size + parents_cids

      StateTree:
        state_root_cid = cid_size

      Weight:
        declare(parent_weight_size, bytes) // TODO
        parent_weight_size = u64

      Height:
        declare(block_height_size, bytes) // TODO
        block_height_size = u64

      MinerAddress [CID]:
        miner_address_size = address_size

      ElectionProof (VRFBls) [SLE, BLSSig]:
        declare(election_proof_size, bytes) // TODO
        election_proof_size = 64

      // ElectionProof (VRFSecpk) [SLE, Secpk]:
      //   declare(election_proof_size, bytes) // TODO
      //   election_proof_size = 80

      Parents [CID]:
        // declare(parents, integer) // TODO
        parents = expected_winning_miners
        parents_cids = parents * cid_size

      BLSSignatures (BLSSigAgg) [BLSSigAgg]:
        declare(bls_agg_size, bytes) // TODO
        bls_agg_size = 96

      Timestamp:
        // declare(timestamp_size, integer) // TODO
        timestamp_size = u64

      // BlockSig (BlockSigSecpk):
        // declare(block_sig_size, integer) // TODO
        // block_sig_size = 80

      BlockSig (BlockSigBls):
        declare(block_sig_size, integer) // TODO
        block_sig_size = 96

      Tickets:
        // declare(tickets, integer)
        declare(tickets_size, bytes)
        tickets_size = ticket_size * tickets
        ticket_size = election_proof_size + vdf_proof_size + vdf_output_size

SNARK [SNARKAssumptions]:
  declare(snark_single_proof_size, bytes)
  snark_single_proof_size = 192
  snark_max_constraints = 100000000

// VDF (VDFStorageBased):
//   vdf_proof_size = (vdf_snark_circuit / snark_max_constraints) * snark_single_proof_size
//   vdf_output_size = hash_size

VDF (VDFRSA):
  vdf_proof_size = 3 * rsa_element
  vdf_output_size = 0

Proofs:
  ProofOfReplication:
    Graph:
      // declare(node_size, integer)
      // declare(sector_size, integer)
      // declare(nodes, integer)
      nodes = sector_size / node_size
      degree = degree_base + degree_expander
      sector_size_gib = sector_size / gib

      DRG (DRSample) [DRGAssumption]:
        // declare(degree_base, integer)
        drg_e = 0.80
        drg_d = 1/4

      ExpanderParents (Chung) [ChungAssumption]:
        // declare(degree_expander, integer)

      Layers:
        // declare(layers, integer)
        assume(layers > 0)

    Soundness:
      // declare(lambda, integer)
      assume(soundness > 0)
      assume(soundness < 0.5)
      soundness = 1/(2^lambda)

    SpaceGap:
      assume(spacegap > 0)
      assume(spacegap < 0.5)

    Challenges:
      OfflineChallenges:
        // declare(offline_challenges, integer)
        // declare(offline_challenges_all, integer)
        assume(offline_challenges > 0)

      OnlineChallenges:
        // declare(online_challenges, integer)
        assume(online_challenges > 0)

    Seal:
      Encoding [KDFTiming]:
        assume(kdf_content > 0)
        assume(encoding_time > 0)
        assume(polling_time > 0)
        kdf_content = degree + 1
        encoding_time = layers * nodes * (kdf_content - 1) * kdf_hash_time * (node_size / kdf_hash_size)
        encoding_time_mins = encoding_time / 60
        malicious_encoding = encoding_time / encoding_amax
        polling_time = malicious_encoding * drg_d

    Commitment (ColumnCommitments) [CRH]:
      commit_size = cid_size
      assume(replica_commit_time > 0)
      replica_commit_time = commit_time * 3 + leaf_time * nodes
      seal_commitments_size = commit_size * 2 // 1 commD, 1 CommR

    ProofGeneration (ColumnCommitments):
      assume(opening_time > 0)
      openings = offline_challenges * opening_per_challenge

      Leaf:
        leaf_constraints =  layers * leaf_hash_constraints
        leaf_circuit_time = layers * leaf_hash_circuit_time
        leaf_time = layers * leaf_hash_time

      Inclusion (MerkleVC) [CRH]:
        // declare(tree_depth, integer)
        tree_depth = (log2(nodes))
        inclusion_circuit_time = tree_depth * merkle_hash_time_circuit
        inclusion_constraints = tree_depth * merkle_hash_constraints
        commit_time = nodes * merkle_hash_time

      SNARK [SNARKAssumptions]:
        comm_d_openings = 1
        comm_d_time = offline_challenges * (comm_d_openings * inclusion_circuit_time)
        comm_d_constraints = offline_challenges * (comm_d_openings * inclusion_constraints)

        comm_r_openings = degree_base
        comm_r_time = offline_challenges * (comm_r_openings * inclusion_circuit_time)
        comm_r_constraints = offline_challenges * (comm_r_openings * inclusion_constraints)

        comm_c_openings = opening_per_challenge
        comm_c_time = offline_challenges * (comm_c_openings * (inclusion_circuit_time + leaf_circuit_time))
        comm_c_constraints = offline_challenges * (comm_c_openings * (inclusion_constraints + leaf_constraints))

        porep_snark_time = comm_d_time + comm_r_time + comm_c_time
        porep_snark_constraints = comm_d_constraints + comm_r_constraints + comm_c_constraints

        porep_snark_partitions = porep_snark_constraints / snark_max_constraints
        porep_snark_proof_size = porep_snark_partitions * snark_single_proof_size

        proofgen_time = porep_snark_time

    Size:
      seal_proof_size = porep_snark_proof_size + seal_commitments_size

    Time:
      seal_time = replica_commit_time + proofgen_time + encoding_time
      parallel_seal_time = (porep_snark_time + commit_time)/cores + encoding_time
      declare(unseal_time) // TODO

    Cost:
      seal_cost = seal_time * (cpu_cost_per_second + memory_cost_per_second)
      declare(unseal_cost) // TODO

  ProofOfReplication (SDR):
    Graph:
      Layers:
        layers = layers_b // TODO max(layers_a, layers_b) + 1
        layers_a = (0.68 - epsilon + delta) / (0.12 - delta)
        layers_b = (log2(1 / (3 * (epsilon - 2 * delta)))) + 0.12 / (0.12 - delta) + 1

    SpaceGap:
      assume(epsilon <= 0.24)
      // delta < epsilon/2
      // delta = epsilon/2 + 0.001
      // spacegap = epsilon + 2 * delta
      spacegap = 2 * epsilon - 0.001
      delta = epsilon/2 - 0.001

    Challenges:
      OfflineChallenges:
        offline_challenges = (- lambda) / (log2(1 - delta))

      OnlineChallenges:
        online_challenges = (- lambda) / (log2(2 - epsilon - 2 * delta) - 1)

    ProofGeneration (ColumnCommitments):
      opening_per_challenge = degree_base + degree_expander + 1

  ProofOfSpacetime:
    Randomness [RandomBeacon]:
      declare(post_randomness_lookback)

    Parameters:
      declare(proving_period_hours)
      declare(max_proving_sectors)

      declare(post_challenge_blocks)
      describe(post_challenge_blocks, "The time offset before which the actual work of generating the PoSt cannot be started. This is some delta before the end of the Proving Period, and as such less than a single Proving Period.", blocks)

      describe(post_challenge_time, "PoSt challenge time (see POST_CHALLENGE_BLOCKS).", seconds)
      post_challenge_time = post_challenge_blocks * block_time
      post_challenge_time = post_challenge_hours * 60 * 60
      describe(post_challenge_hours "PoSt challenge time (see POST_CHALLENGE_BLOCKS).", hours)

  ProofOfSpacetime (RationalPoSt):
    Parameters:
      post_challenges = online_challenges
      post_proving_period = proving_period_seconds / block_time
      describe(post_proving_period, "The time interval in which a PoSt has to be submitted", blocks)

    Cost:
      declare(post_proving_cost)

    SNARK:
      post_snark_circuit = online_challenges * inclusion_constraints

    Size:
      post_proof_size = post_snark_proof_size
      post_snark_proof_partitions = 1 // TODO post_snark_circuit / snark_max_constraints
      post_snark_proof_size = post_snark_proof_partitions * snark_single_proof_size


Consensus [ProofOfReplication, ProofOfSpacetime]:
  // declare(expected_winning_miners, integer)
  // declare(finality_height, integer)
  Tickets:
    tickets = avg_tickets
    avg_tickets = 1
    min_tickets = 0
    max_tickets = log(one_block_in_ten_years)/log(0.36) + 1 // 0.36^(max_tickets-1) = one_block_in_ten_years
    blocks_in_a_year = (year_in_seconds / block_time) * expected_winning_miners
    blocks_in_ten_years = blocks_in_a_year * 10
    one_block_in_ten_years = 1/blocks_in_ten_years

StorageMarket:
  declare(min_storing_time)
  Deals (OnChainDeals):
    comm_p_size = cid_size
    declare(p_size, 1)
    p_size = (log2(sector_size))
    sector_manifest_size = pieces * comm_p_size + p_size
    max_sector_manifest_hashes = sector_size / min_piece_size


Mining:
  proving_period_seconds = proving_period_hours * 60 * 60

  seals_per_sector_per_year = reseal+1
  posts_per_sector_per_year = year_in_seconds / proving_period_seconds

ScalingRequirements:
  storage_network_capacity = 10 * eix

ChainBandwidth:
  sectors_count = storage_network_capacity / sector_size
  all_seal_size_per_year = all_seal_messages_per_year
  all_seal_messages_per_year = sectors_count * seals_per_sector_per_year
  all_post_messages_per_year = sectors_count * posts_per_sector_per_year / miners

  Chain Size:

  Block Size:
    chain_size_year = block_size * blocks_in_a_year
    chain_size_year_gib = chain_size_year / gib
    block_size_kib = block_size / kib

  Block Content:
    block_size = block_framing_size + proofs_size_per_block
    messages = avg_proofs_messages_per_block + tx_messages_per_block + actors_messages_per_block // TODO messages dont include deals

    Proofs:
      avg_proofs_messages_per_block = avg_seals_messages_per_block + avg_posts_messages_per_block
      avg_seals_messages_per_block = all_seal_messages_per_year / blocks_in_a_year
      avg_posts_messages_per_block = all_post_messages_per_year / blocks_in_a_year

      seal_size_per_block = avg_seals_messages_per_block * seal_proof_size
      post_size_per_block = avg_posts_messages_per_block * post_proof_size
      proofs_size_per_block = seal_size_per_block + post_size_per_block
      proofs_size_per_block_kib = proofs_size_per_block / kib

    Composition:
      avg_proofs_messages_per_block = proof_messages_fraction * messages
      tx_messages_per_block = tx_messages_fraction * messages
      actors_messages_per_block = actors_messages_fraction * messages
```


## Parsed Parameter Definitions {#parsed-parameter-definitions}

```json
{
  "subsystems": [
    {
      "name": "Assumptions",
      "subsystems": [
        {
          "name": "cid",
          "schema": {
            "description": null,
            "parameters": [
              {
                "name": "cidSize",
                "description": "The size of a CID.",
                "type": "bytes"
              }
            ]
          },
          "constraints": {
            "cidSize.tmp1%": "(+ 32 1)",
            "cidSize.tmp2%": "(+ cid-size.tmp1% 1)",
            "cidSize": "(+ cid-size.tmp2% 1)"
          }
        },
        {
          "name": "sle",
          "schema": {
            "description": null,
            "parameters": [
              {
                "name": "vrfProofSize",
                "description": "The size of a VRF proof.",
                "type": "bytes"
              }
            ]
          }
        }
      ]
    },
    {
      "name": "Primitives",
      "schema": {
        "description": null,
        "parameters": [
          {
            "name": "u64",
            "description": "The size of a U64, in bytes."
          },
          {
            "name": "varint",
            "description": "The size of a VarInt.",
            "type": "bytes"
          }
        ]
      },
      "constraints": {
        "varint": "(== 4)",
        "u64": "(== 8)"
      },
      "subsystems": [
        {
          "name": "Dimensions",
          "subsystems": [
            {
              "name": "Size",
              "schema": {
                "description": null,
                "parameters": [
                  {
                    "name": "mib",
                    "description": "The number of bytes in one EiX.",
                    "type": "bytes"
                  },
                  {
                    "name": "mib",
                    "description": "The number of bytes in one PiB.",
                    "type": "bytes"
                  },
                  {
                    "name": "mib",
                    "description": "The number of bytes in one TiB.",
                    "type": "bytes"
                  },
                  {
                    "name": "mib",
                    "description": "The number of bytes in one GiB.",
                    "type": "bytes"
                  },
                  {
                    "name": "mib",
                    "description": "The number of bytes in one MiB.",
                    "type": "bytes"
                  },
                  {
                    "name": "kib",
                    "description": "The number of bytes in one KiB.",
                    "type": "bytes"
                  }
                ]
              },
              "constraints": {
                "kib": "(== 1024)",
                "mib": "(* 1024 kib)",
                "gib": "(* 1024 mib)",
                "tib": "(* 1024 gib)",
                "pib": "(* 1024 tib)",
                "eix": "(* 1024 pib)"
              }
            },
            {
              "name": "Time",
              "schema": {
                "description": null,
                "parameters": [
                  {
                    "name": "yearInSeconds",
                    "description": "The number of seconds in one year.",
                    "type": "seconds"
                  }
                ]
              },
              "constraints": {
                "yearInSeconds.tmp1%": "(* 365.25 24)",
                "yearInSeconds.tmp2%": "(* year-in-seconds.tmp1% 60)",
                "yearInSeconds": "(* year-in-seconds.tmp2% 60)"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "vdfrsa",
      "schema": {
        "description": null,
        "parameters": [
          {
            "name": "rsaElement",
            "description": "The size of an RSA element.",
            "type": "bytes"
          }
        ]
      },
      "constraints": {
        "rsaElement": "(/ 2048 8)"
      }
    },
    {
      "name": "Blockchain",
      "subsystems": [
        {
          "name": "Address",
          "schema": {
            "description": null,
            "parameters": [
              {
                "name": "addressSize",
                "description": "The size of an address.",
                "type": "bytes"
              }
            ]
          },
          "constraints": {
            "addressSize": "(== cid-size)"
          }
        },
        {
          "name": "Block",
          "schema": {
            "description": null,
            "parameters": [
              {
                "name": "blockFramingSize",
                "description": "The total amount of block framing.",
                "type": "bytes"
              }
            ]
          },
          "constraints": {
            "blockFramingSize.tmp1%": "(+ block-header-size messages-size)",
            "blockFramingSize": "(+ block-framing-size.tmp1% receipts-size)"
          },
          "subsystems": [
            {
              "name": "Messages",
              "schema": {
                "description": null,
                "parameters": [
                  {
                    "name": "messagesRootCid",
                    "description": "Size of the CID of the root merkle tree of the messages.",
                    "type": "bytes"
                  },
                  {
                    "name": "messagesSize",
                    "description": "The total size of the messages in a block.",
                    "type": "bytes"
                  }
                ]
              },
              "constraints": {
                "messagesSize": "(* messages message-size)",
                "messagesRootCid": "(== cid-size)"
              },
              "subsystems": [
                {
                  "name": "Message",
                  "schema": {
                    "description": null,
                    "parameters": [
                      {
                        "name": "toAddress",
                        "description": "The size of a message's 'from address'.",
                        "type": "bytes"
                      },
                      {
                        "name": "toAddress",
                        "description": "The size of a message's 'to address'.",
                        "type": "bytes"
                      },
                      {
                        "name": "messageSize",
                        "description": "The size of a single message.",
                        "type": "bytes"
                      }
                    ]
                  },
                  "constraints": {
                    "messageSize.tmp1%": "(+ to-address from-address)",
                    "messageSize.tmp2%": "(+ message-size.tmp1% message-nonce)",
                    "messageSize.tmp3%": "(+ message-size.tmp2% value)",
                    "messageSize.tmp4%": "(+ message-size.tmp3% gas-price)",
                    "messageSize.tmp5%": "(+ message-size.tmp4% gas-limit)",
                    "messageSize": "(+ message-size.tmp5% actor-method)",
                    "toAddress": "(== address-size)",
                    "fromAddress": "(== address-size)"
                  },
                  "subsystems": [
                    {
                      "name": "Nonce",
                      "schema": {
                        "description": null,
                        "parameters": [
                          {
                            "name": "messageNonce",
                            "description": "The size of a message's nonce.",
                            "type": "bytes"
                          }
                        ]
                      },
                      "constraints": {
                        "messageNonce": "(== varint)"
                      }
                    },
                    {
                      "name": "Value",
                      "schema": {
                        "description": null,
                        "parameters": [
                          {
                            "name": "value",
                            "description": "The size of a 'value' element.",
                            "type": "bytes"
                          }
                        ]
                      },
                      "constraints": {
                        "value": "(== u64)"
                      }
                    },
                    {
                      "name": "Gas",
                      "schema": {
                        "description": null,
                        "parameters": [
                          {
                            "name": "gasPrice",
                            "description": "The size required to represent the gas limit.",
                            "type": "bytes"
                          },
                          {
                            "name": "gasPrice",
                            "description": "The size required to represent the gas price.",
                            "type": "bytes"
                          }
                        ]
                      },
                      "constraints": {
                        "gasPrice": "(== u64)",
                        "gasLimit": "(== u64)"
                      }
                    },
                    {
                      "name": "ActorMethod",
                      "schema": {
                        "description": null,
                        "parameters": [
                          {
                            "name": "actorMethod",
                            "description": "The size required to represent an actor method.",
                            "type": "bytes"
                          }
                        ]
                      },
                      "constraints": {
                        "actorMethod": "(== u64)"
                      }
                    }
                  ]
                }
              ]
            },
            {
              "name": "Receipts",
              "schema": {
                "description": null,
                "parameters": [
                  {
                    "name": "messageReceiptsCid",
                    "description": "The size of one message receipt's CID.",
                    "type": "bytes"
                  },
                  {
                    "name": "receiptsSize",
                    "description": "The total size of all message receipts, in bytes."
                  }
                ]
              },
              "constraints": {
                "receipts": "(== messages)",
                "receiptsSize": "(* receipts message-receipt)",
                "messageReceiptsCid": "(== cid-size)"
              },
              "subsystems": [
                {
                  "name": "Receipt",
                  "schema": {
                    "description": null,
                    "parameters": [
                      {
                        "name": "gasUsed",
                        "description": "The size required to represent the amount of gas used by a message.",
                        "type": "bytes"
                      },
                      {
                        "name": "return",
                        "description": "The size of a message's return value.",
                        "type": "bytes"
                      },
                      {
                        "name": "exitCode",
                        "description": "The size of an exit code.",
                        "type": "bytes"
                      },
                      {
                        "name": "messageReceipt",
                        "description": "The size of one message receipt.",
                        "type": "bytes"
                      }
                    ]
                  },
                  "constraints": {
                    "messageReceipt.tmp1%": "(+ exit-code return)",
                    "messageReceipt": "(+ message-receipt.tmp1% gas-used)",
                    "exitCode": "(== varint)",
                    "return": "(== varint)",
                    "gasUsed": "(== u64)"
                  }
                }
              ]
            },
            {
              "name": "BlockHeader",
              "constraints": {
                "blockHeaderSize": "(+ block-header-fixed-size block-header-variable-size)",
                "blockHeaderFixedSize.tmp1%": "(+ miner-address-size election-proof-size)",
                "blockHeaderFixedSize.tmp2%": "(+ block-header-fixed-size.tmp1% parent-weight-size)",
                "blockHeaderFixedSize.tmp3%": "(+ block-header-fixed-size.tmp2% block-height-size)",
                "blockHeaderFixedSize.tmp4%": "(+ block-header-fixed-size.tmp3% state-root-cid)",
                "blockHeaderFixedSize.tmp5%": "(+ block-header-fixed-size.tmp4% messages-root-cid)",
                "blockHeaderFixedSize.tmp6%": "(+ block-header-fixed-size.tmp5% bls-agg-size)",
                "blockHeaderFixedSize.tmp7%": "(+ block-header-fixed-size.tmp6% message-receipts-cid)",
                "blockHeaderFixedSize.tmp8%": "(+ block-header-fixed-size.tmp7% timestamp-size)",
                "blockHeaderFixedSize": "(+ block-header-fixed-size.tmp8% block-sig-size)",
                "blockHeaderVariableSize": "(+ tickets-size parents-cids)"
              },
              "subsystems": [
                {
                  "name": "StateTree",
                  "constraints": {
                    "stateRootCid": "(== cid-size)"
                  }
                },
                {
                  "name": "Weight",
                  "constraints": {
                    "parentWeightSize": "(== u64)"
                  }
                },
                {
                  "name": "Height",
                  "constraints": {
                    "blockHeightSize": "(== u64)"
                  }
                },
                {
                  "name": "MinerAddress",
                  "constraints": {
                    "minerAddressSize": "(== address-size)"
                  }
                },
                {
                  "name": "ElectionProof",
                  "constraints": {
                    "electionProofSize": "(== 64)"
                  }
                },
                {
                  "name": "Parents",
                  "constraints": {
                    "parents": "(== expected-winning-miners)",
                    "parentsCids": "(* parents cid-size)"
                  }
                },
                {
                  "name": "blsSignatures",
                  "constraints": {
                    "blsAggSize": "(== 96)"
                  }
                },
                {
                  "name": "Timestamp",
                  "constraints": {
                    "timestampSize": "(== u64)"
                  }
                },
                {
                  "name": "BlockSig",
                  "constraints": {
                    "blockSigSizeInteger%": "(integer block-sig-size)",
                    "blockSigSize": "(== 96)"
                  }
                },
                {
                  "name": "Tickets",
                  "constraints": {
                    "ticketsSize": "(* ticket-size tickets)",
                    "ticketSize.tmp1%": "(+ election-proof-size vdf-proof-size)",
                    "ticketSize": "(+ ticket-size.tmp1% vdf-output-size)"
                  }
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "snark",
      "constraints": {
        "snarkSingleProofSize": "(== 192)",
        "snarkMaxConstraints": "(== 100000000)"
      }
    },
    {
      "name": "vdf",
      "constraints": {
        "vdfProofSize": "(* 3 rsa-element)",
        "vdfOutputSize": "(== 0)"
      }
    },
    {
      "name": "Proofs",
      "subsystems": [
        {
          "name": "ProofOfReplication",
          "subsystems": [
            {
              "name": "Graph",
              "constraints": {
                "nodes": "(/ sector-size node-size)",
                "degree": "(+ degree-base degree-expander)",
                "sectorSizeGib": "(/ sector-size gib)"
              },
              "subsystems": [
                {
                  "name": "drg",
                  "constraints": {
                    "drgE": "(== 0.8)",
                    "drgD": "(/ 1 4)"
                  }
                },
                {
                  "name": "ExpanderParents"
                },
                {
                  "name": "Layers"
                }
              ]
            },
            {
              "name": "Soundness",
              "constraints": {
                "soundness": "(/ 1 soundness.tmp1%)"
              }
            },
            {
              "name": "SpaceGap"
            },
            {
              "name": "Challenges",
              "subsystems": [
                {
                  "name": "OfflineChallenges"
                },
                {
                  "name": "OnlineChallenges"
                }
              ]
            },
            {
              "name": "Seal",
              "subsystems": [
                {
                  "name": "Encoding",
                  "constraints": {
                    "kdfContent": "(+ degree 1)",
                    "encodingTime.tmp1%": "(- kdf-content 1)",
                    "encodingTime.tmp2%": "(/ node-size kdf-hash-size)",
                    "encodingTime.tmp4%": "(* layers nodes)",
                    "encodingTime.tmp5%": "(* encoding-time.tmp4% encoding-time.tmp1%)",
                    "encodingTime.tmp6%": "(* encoding-time.tmp5% kdf-hash-time)",
                    "encodingTime": "(* encoding-time.tmp6% encoding-time.tmp2%)",
                    "encodingTimeMins": "(/ encoding-time 60)",
                    "maliciousEncoding": "(/ encoding-time encoding-amax)",
                    "pollingTime": "(* malicious-encoding drg-d)"
                  }
                }
              ]
            },
            {
              "name": "Commitment",
              "constraints": {
                "commitSize": "(== cid-size)",
                "replicaCommitTime.tmp1%": "(* commit-time 3)",
                "replicaCommitTime.tmp2%": "(* leaf-time nodes)",
                "replicaCommitTime": "(+ replica-commit-time.tmp1% replica-commit-time.tmp2%)",
                "sealCommitmentsSize": "(* commit-size 2)"
              }
            },
            {
              "name": "ProofGeneration",
              "constraints": {
                "openings": "(* offline-challenges opening-per-challenge)"
              },
              "subsystems": [
                {
                  "name": "Leaf",
                  "constraints": {
                    "leafConstraints": "(* layers leaf-hash-constraints)",
                    "leafCircuitTime": "(* layers leaf-hash-circuit-time)",
                    "leafTime": "(* layers leaf-hash-time)"
                  }
                },
                {
                  "name": "Inclusion",
                  "constraints": {
                    "treeDepth": "(log2 nodes)",
                    "inclusionCircuitTime": "(* tree-depth merkle-hash-time-circuit)",
                    "inclusionConstraints": "(* tree-depth merkle-hash-constraints)",
                    "commitTime": "(* nodes merkle-hash-time)"
                  }
                },
                {
                  "name": "snark",
                  "constraints": {
                    "commDOpenings": "(== 1)",
                    "commDTime.tmp1%": "(* comm-d-openings inclusion-circuit-time)",
                    "commDTime": "(* offline-challenges comm-d-time.tmp1%)",
                    "commDConstraints.tmp2%": "(* comm-d-openings inclusion-constraints)",
                    "commDConstraints": "(* offline-challenges comm-d-constraints.tmp2%)",
                    "commROpenings": "(== degree-base)",
                    "commRTime.tmp3%": "(* comm-r-openings inclusion-circuit-time)",
                    "commRTime": "(* offline-challenges comm-r-time.tmp3%)",
                    "commRConstraints.tmp4%": "(* comm-r-openings inclusion-constraints)",
                    "commRConstraints": "(* offline-challenges comm-r-constraints.tmp4%)",
                    "commCOpenings": "(== opening-per-challenge)",
                    "commCTime.tmp6%": "(+ inclusion-circuit-time leaf-circuit-time)",
                    "commCTime.tmp5%": "(* comm-c-openings comm-c-time.tmp6%)",
                    "commCTime": "(* offline-challenges comm-c-time.tmp5%)",
                    "commCConstraints.tmp8%": "(+ inclusion-constraints leaf-constraints)",
                    "commCConstraints.tmp7%": "(* comm-c-openings comm-c-constraints.tmp8%)",
                    "commCConstraints": "(* offline-challenges comm-c-constraints.tmp7%)",
                    "porepSnarkTime.tmp9%": "(+ comm-d-time comm-r-time)",
                    "porepSnarkTime": "(+ porep-snark-time.tmp9% comm-c-time)",
                    "porepSnarkConstraints.tmp10%": "(+ comm-d-constraints comm-r-constraints)",
                    "porepSnarkConstraints": "(+ porep-snark-constraints.tmp10% comm-c-constraints)",
                    "porepSnarkPartitions": "(/ porep-snark-constraints snark-max-constraints)",
                    "porepSnarkProofSize": "(* porep-snark-partitions snark-single-proof-size)",
                    "proofgenTime": "(== porep-snark-time)"
                  }
                }
              ]
            },
            {
              "name": "Size",
              "constraints": {
                "sealProofSize": "(+ porep-snark-proof-size seal-commitments-size)"
              }
            },
            {
              "name": "Time",
              "constraints": {
                "sealTime.tmp3%": "(+ replica-commit-time proofgen-time)",
                "sealTime": "(+ seal-time.tmp3% encoding-time)",
                "parallelSealTime.tmp2%": "(+ porep-snark-time commit-time)",
                "parallelSealTime.tmp1%": "(/ parallel-seal-time.tmp2% cores)",
                "parallelSealTime": "(+ parallel-seal-time.tmp1% encoding-time)"
              }
            },
            {
              "name": "Cost",
              "constraints": {
                "sealCost.tmp1%": "(+ cpu-cost-per-second memory-cost-per-second)",
                "sealCost": "(* seal-time seal-cost.tmp1%)"
              }
            }
          ]
        },
        {
          "name": "ProofOfReplication",
          "subsystems": [
            {
              "name": "Graph",
              "subsystems": [
                {
                  "name": "Layers",
                  "constraints": {
                    "layers": "(== layers-b)",
                    "layersA.tmp2%": "(- 0.68 epsilon)",
                    "layersA.tmp1%": "(+ layers-a.tmp2% delta)",
                    "layersA.tmp3%": "(- 0.12 delta)",
                    "layersA": "(/ layers-a.tmp1% layers-a.tmp3%)",
                    "layersB.tmp8%": "(* 2 delta)",
                    "layersB.tmp7%": "(- epsilon layers-b.tmp8%)",
                    "layersB.tmp6%": "(* 3 layers-b.tmp7%)",
                    "layersB.tmp5%": "(/ 1 layers-b.tmp6%)",
                    "layersB.tmp4%": "(log2 layers-b.tmp5%)",
                    "layersB.tmp10%": "(- 0.12 delta)",
                    "layersB.tmp9%": "(/ 0.12 layers-b.tmp10%)",
                    "layersB.tmp15%": "(+ layers-b.tmp4% layers-b.tmp9%)",
                    "layersB": "(+ layers-b.tmp15% 1)"
                  }
                }
              ]
            },
            {
              "name": "SpaceGap",
              "constraints": {
                "spacegap.tmp1%": "(* 2 epsilon)",
                "spacegap": "(- spacegap.tmp1% 0.001)",
                "delta.tmp2%": "(/ epsilon 2)",
                "delta": "(- delta.tmp2% 0.001)"
              }
            },
            {
              "name": "Challenges",
              "subsystems": [
                {
                  "name": "OfflineChallenges",
                  "constraints": {
                    "offlineChallenges.tmp1%": "(- 0 lambda)",
                    "offlineChallenges.tmp3%": "(- 1 delta)",
                    "offlineChallenges.tmp2%": "(log2 offline-challenges.tmp3%)",
                    "offlineChallenges": "(/ offline-challenges.tmp1% offline-challenges.tmp2%)"
                  }
                },
                {
                  "name": "OnlineChallenges",
                  "constraints": {
                    "onlineChallenges.tmp1%": "(- 0 lambda)",
                    "onlineChallenges.tmp5%": "(* 2 delta)",
                    "onlineChallenges.tmp4%.tmp6%": "(- 2 epsilon)",
                    "onlineChallenges.tmp4%": "(- online-challenges.tmp4%.tmp6% online-challenges.tmp5%)",
                    "onlineChallenges.tmp3%": "(log2 online-challenges.tmp4%)",
                    "onlineChallenges.tmp2%": "(- online-challenges.tmp3% 1)",
                    "onlineChallenges": "(/ online-challenges.tmp1% online-challenges.tmp2%)"
                  }
                }
              ]
            },
            {
              "name": "ProofGeneration",
              "constraints": {
                "openingPerChallenge.tmp1%": "(+ degree-base degree-expander)",
                "openingPerChallenge": "(+ opening-per-challenge.tmp1% 1)"
              }
            }
          ]
        },
        {
          "name": "ProofOfSpacetime",
          "subsystems": [
            {
              "name": "Randomness"
            },
            {
              "name": "Parameters",
              "schema": {
                "description": null,
                "parameters": [
                  {
                    "name": "postChallengeHours",
                    "description": "PoSt challenge time (see POST_CHALLENGE_BLOCKS).",
                    "type": "hours"
                  },
                  {
                    "name": "postChallengeTime",
                    "description": "PoSt challenge time (see POST_CHALLENGE_BLOCKS).",
                    "type": "seconds"
                  },
                  {
                    "name": "postChallengeBlocks",
                    "description": "The time offset before which the actual work of generating the PoSt cannot be started. This is some delta before the end of the Proving Period, and as such less than a single Proving Period.",
                    "type": "blocks"
                  }
                ]
              },
              "constraints": {
                "postChallengeTime": "(* post-challenge-time.tmp1% 60)",
                "postChallengeTime.tmp1%": "(* post-challenge-hours 60)"
              }
            }
          ]
        },
        {
          "name": "ProofOfSpacetime",
          "subsystems": [
            {
              "name": "Parameters",
              "schema": {
                "description": null,
                "parameters": [
                  {
                    "name": "postProvingPeriod",
                    "description": "The time interval in which a PoSt has to be submitted",
                    "type": "blocks"
                  }
                ]
              },
              "constraints": {
                "postChallenges": "(== online-challenges)",
                "postProvingPeriod": "(/ proving-period-seconds block-time)"
              }
            },
            {
              "name": "Cost"
            },
            {
              "name": "snark",
              "constraints": {
                "postSnarkCircuit": "(* online-challenges inclusion-constraints)"
              }
            },
            {
              "name": "Size",
              "constraints": {
                "postProofSize": "(== post-snark-proof-size)",
                "postSnarkProofPartitions": "(== 1)",
                "postSnarkProofSize": "(* post-snark-proof-partitions snark-single-proof-size)"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Consensus",
      "subsystems": [
        {
          "name": "Tickets",
          "constraints": {
            "tickets": "(== avg-tickets)",
            "avgTickets": "(== 1)",
            "minTickets": "(== 0)",
            "maxTickets.tmp2%": "(log one-block-in-ten-years)",
            "maxTickets.tmp3%": "(log 0.36)",
            "maxTickets.tmp1%": "(/ max-tickets.tmp2% max-tickets.tmp3%)",
            "maxTickets": "(+ max-tickets.tmp1% 1)",
            "blocksInAYear.tmp4%": "(/ year-in-seconds block-time)",
            "blocksInAYear": "(* blocks-in-a-year.tmp4% expected-winning-miners)",
            "blocksInTenYears": "(* blocks-in-a-year 10)",
            "oneBlockInTenYears": "(/ 1 blocks-in-ten-years)"
          }
        }
      ]
    },
    {
      "name": "StorageMarket",
      "subsystems": [
        {
          "name": "Deals",
          "constraints": {
            "commPSize": "(== cid-size)",
            "pSize": "(log2 sector-size)",
            "sectorManifestSize.tmp1%": "(* pieces comm-p-size)",
            "sectorManifestSize": "(+ sector-manifest-size.tmp1% p-size)",
            "maxSectorManifestHashes": "(/ sector-size min-piece-size)"
          }
        }
      ]
    },
    {
      "name": "Mining",
      "constraints": {
        "provingPeriodSeconds.tmp1%": "(* proving-period-hours 60)",
        "provingPeriodSeconds": "(* proving-period-seconds.tmp1% 60)",
        "sealsPerSectorPerYear": "(+ reseal 1)",
        "postsPerSectorPerYear": "(/ year-in-seconds proving-period-seconds)"
      }
    },
    {
      "name": "ScalingRequirements",
      "constraints": {
        "storageNetworkCapacity": "(* 10 eix)"
      }
    },
    {
      "name": "ChainBandwidth",
      "constraints": {
        "sectorsCount": "(/ storage-network-capacity sector-size)",
        "allSealSizePerYear": "(== all-seal-messages-per-year)",
        "allSealMessagesPerYear": "(* sectors-count seals-per-sector-per-year)",
        "allPostMessagesPerYear.tmp1%": "(* sectors-count posts-per-sector-per-year)",
        "allPostMessagesPerYear": "(/ all-post-messages-per-year.tmp1% miners)"
      },
      "subsystems": [
        {
          "name": "Chain"
        },
        {
          "name": "Block",
          "constraints": {
            "chainSizeYear": "(* block-size blocks-in-a-year)",
            "chainSizeYearGib": "(/ chain-size-year gib)",
            "blockSizeKib": "(/ block-size kib)"
          }
        },
        {
          "name": "Block",
          "constraints": {
            "blockSize": "(+ block-framing-size proofs-size-per-block)",
            "messages.tmp1%": "(+ avg-proofs-messages-per-block tx-messages-per-block)",
            "messages": "(+ messages.tmp1% actors-messages-per-block)"
          },
          "subsystems": [
            {
              "name": "Proofs",
              "constraints": {
                "avgProofsMessagesPerBlock": "(+ avg-seals-messages-per-block avg-posts-messages-per-block)",
                "avgSealsMessagesPerBlock": "(/ all-seal-messages-per-year blocks-in-a-year)",
                "avgPostsMessagesPerBlock": "(/ all-post-messages-per-year blocks-in-a-year)",
                "sealSizePerBlock": "(* avg-seals-messages-per-block seal-proof-size)",
                "postSizePerBlock": "(* avg-posts-messages-per-block post-proof-size)",
                "proofsSizePerBlock": "(+ seal-size-per-block post-size-per-block)",
                "proofsSizePerBlockKib": "(/ proofs-size-per-block kib)"
              }
            },
            {
              "name": "Composition",
              "constraints": {
                "avgProofsMessagesPerBlock": "(* proof-messages-fraction messages)",
                "txMessagesPerBlock": "(* tx-messages-fraction messages)",
                "actorsMessagesPerBlock": "(* actors-messages-fraction messages)"
              }
            }
          ]
        }
      ]
    }
  ]
}
```
