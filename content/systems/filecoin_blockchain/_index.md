---
title: "Blockchain"
bookCollapseSection: true
weight: 4
dashboardWeight: 2
dashboardState: wip
dashboardAudit: missing
dashboardTests: 0
---

# Blockchain

The Filecoin Blockchain is a distributed virtual machine that achieves consensus, processes messages, accounts for storage, and maintains security in the Filecoin Protocol. It is the main interface linking various actors in the Filecoin system.

It includes:

- A [Message Pool](message_pool) subsystem that nodes use to track and propagate messages related to the storage market throughout a gossip network.
- A [Virtual Machine](systems/filecoin_vm) subsystem used to interpret and execute messages in order to update system state.
- A [State Tree](state_tree) subsystem which manages the creation and maintenance of state trees (the system state) deterministically generated by the vm from a given subchain.
- A [Chain Synchronisation (ChainSync)](chainsync) susbystem that tracks and propagates validated message blocks, maintaining sets of candidate chains on which the miner may mine and running syntactic validation on incoming blocks.
- A [Storage Power Consensus](storage_power_consensus) subsystem which tracks storage state (i.e., [Storage Subystem](storage_mining)) for a given chain and helps the blockchain system choose subchains to extend and blocks to include in them.

And also:

- A [Chain Manager](chain_manager) -- which maintains a given chain's state, providing facilities to other blockchain subsystems which will query state about the latest chain in order to run, and ensuring incoming blocks are semantically validated before inclusion into the chain.
- A [Block Producer](block_producer) -- which is called in the event of a successful leader election in order to produce a new block that will extend the current heaviest chain before forwarding it to the syncer for propagation.

At a high-level, the Filecoin blockchain grows through successive rounds of leader election in which a number of miners are elected to generate a block, whose inclusion in the chain will earn them block rewards. 
Filecoin's blockchain runs on storage power. That is, its consensus algorithm by which miners agree on which subchain to mine is predicated on the amount of storage backing that subchain. At a high-level, the [Storage Power Consensus](storage_power_consensus) subsystem maintains a _Power Table_ that tracks the amount of storage that [storage miner actors](storage_mining) have contributed to the network through _Sector commitments_ and _Proofs of Spacetime_.

Most of the functions of the Filecoin blockchain system are detailed in the code below.